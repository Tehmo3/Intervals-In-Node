<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>DiscreteRanges.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="DiscreteRange.html">DiscreteRange</a><ul class='methods'><li data-type='method'><a href="DiscreteRange.html#.last">last</a></li><li data-type='method'><a href="DiscreteRange.html#.next">next</a></li><li data-type='method'><a href="DiscreteRange.html#.prev">prev</a></li></ul></li><li><a href="floatRange.html">floatRange</a></li><li><a href="intRange.html">intRange</a><ul class='methods'><li data-type='method'><a href="intRange.html#.length">length</a></li></ul></li><li><a href="RangeClass.html">RangeClass</a><ul class='methods'><li data-type='method'><a href="RangeClass.html#.adjacent">adjacent</a></li><li data-type='method'><a href="RangeClass.html#.contains">contains</a></li><li data-type='method'><a href="RangeClass.html#.difference">difference</a></li><li data-type='method'><a href="RangeClass.html#.empty">empty</a></li><li data-type='method'><a href="RangeClass.html#.endsBefore">endsBefore</a></li><li data-type='method'><a href="RangeClass.html#.endsWith">endsWith</a></li><li data-type='method'><a href="RangeClass.html#.intersection">intersection</a></li><li data-type='method'><a href="RangeClass.html#.isValidRange">isValidRange</a></li><li data-type='method'><a href="RangeClass.html#.isValidScalar">isValidScalar</a></li><li data-type='method'><a href="RangeClass.html#.leftOf">leftOf</a></li><li data-type='method'><a href="RangeClass.html#.overlap">overlap</a></li><li data-type='method'><a href="RangeClass.html#.replace">replace</a></li><li data-type='method'><a href="RangeClass.html#.rightOf">rightOf</a></li><li data-type='method'><a href="RangeClass.html#.startsAfter">startsAfter</a></li><li data-type='method'><a href="RangeClass.html#.startsWith">startsWith</a></li><li data-type='method'><a href="RangeClass.html#.union">union</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">DiscreteRanges.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>var RangeClass = require("./Range.js");
var utils = require("./_utils");

var _internalRange = utils.namedList(["lower","upper","lowerInc","upperInc", "empty"]);
var _emptyInternalRange = _internalRange([null, null, false, false, true]);

class DiscreteRange extends RangeClass {
    /**
    @class DiscreteRange
    @extends RangeClass
    @description Discrete ranges are a subset of ranges that work on discrete types. This includes `int` and `datetime.date`
    @param {object} settings - The settings of the range.
    @param {object|scalar} settings.lower - The lower end of the range
    @param {object|scalar} settings.upper - The upper end of the range
    @param {object|scalar} settings.lowerInc - ``true`` if lower end should be included in range. Defaults to ``true``.
    @param {object|scalar} settings.upperInc - ``true`` if upper end should be included in range. Defautls to ``false``.
    */
    constructor(step, settings = {}) {
        super(settings);
        this.step = step;
        var lb = this.lower;
        if (this.lower &amp;&amp; !this.lowerInc) {
            lb = this.next(lb);
        }

        var ub = this.upper;
        if (this.upper &amp;&amp; this.upperInc) {
            ub = this.next(ub);
        }
        if (this.lower &amp;&amp; this.upper &amp;&amp; lb >= ub) {
            this._range = _emptyInternalRange;
            this.replace({upper: null, lower: null, lowerInc: false, upperInc: false});
        }
        else {
            this._range = _internalRange([lb, ub, true, false, false]);
            this.replace({upper: ub, lower: lb, lowerInc: true, upperInch: false});
        }
    }
    /**
    @memberof DiscreteRange
    @method next
    @description Increment the given value with the step defined for this class.
    @param {scalar} curr -Value to increment
    @returns {scalar}
    */
    next(curr) {
        return curr + this.step;
    }
    /**
    @memberof DiscreteRange
    @method prev
    @description Decrement the given value with the step defined for this class.
    @param {scalar} curr -Value to decrement
    @returns {scalar}
    */
    prev(curr) {
        return curr - this.step;
    }
    /**
    @memberof DiscreteRange
    @method last
    @description Returns the last element within this range. If the range has no
    upper limit, `null` is returned.
    @returns {scalar}
    */
    last() {
        if (!this || !this.upper) {
            return null;
        }
        else {
            return this.prev(this.upper);
        }
    }

    endsWith(other) {
        //Discrete ranges have a lst element even in cases where the UB is null
        if (this.isValidScalar(other)) {
            return this.last() === other;
        }
        else {
            return super.endsWith(other);
        }
    }
}

class intRange extends DiscreteRange {
    /**
    @class intRange
    @extends DiscreteRange
    @description Range that operates on int.
    @param {object} settings - The settings of the range.
    @param {object|scalar} settings.lower - The lower end of the range
    @param {object|scalar} settings.upper - The upper end of the range
    @param {object|scalar} settings.lowerInc - ``true`` if lower end should be included in range. Defaults to ``true``.
    @param {object|scalar} settings.upperInc - ``true`` if upper end should be included in range. Defautls to ``false``.
    */
    constructor(settings = {}) {
        settings.type = "int";
        super(1, settings);
        Object.assign(this, utils.OffsetableRangeMixin);
        /**
        @memberof intRange
        @description The type of values in the range.
        */
        this.type = settings.type;
    }
    /**
    @memberof intRange
    @method length
    @description Return the length of the range
    @returns {scalar}
    */
    length() {
        return this.upper - this.lower;
    }
}

class strRange extends DiscreteRange {
    constructor(settings={}) {
        settings.type = "ustr";
        super(1, settings);
        this.type = settings.type;
    }
    next(curr) {
        if (!curr) {
            return "";
        }
        var last = curr.substr(curr.length - 1);

        if (last.charCodeAt() === 65535) {
                return this.next(curr.slice(0,-1)) + String.fromCharCode(0);
        }
        else {
            return curr.slice(0,-1) + String.fromCharCode(last.charCodeAt()+1);
        }
    }

    prev(curr) {
        if (!curr) {
            return "";
        }

        var last = curr.substr(curr.length - 1);

        if (last.charCodeAt() === 0) {
            return this.prev(curr.slice(0,-1)) + String.fromCharCode(65535);
        }
        else {
            return curr.slice(0,-1) + String.fromCharCode(last.charCodeAt()-1);
        }
    }
}

class dateRange extends DiscreteRange {
    constructor(settings = {}) {
        super(1, settings);
        this.type = "date";
        //Work from here
    }
}

class PeriodRange extends dateRange {
    constructor(settings = {}) {
        super(1, settings);
        //Work from here
    }
}

module.exports = {
    intRange: intRange,
    strRange: strRange,
    dateRange: dateRange,
    PeriodRange: PeriodRange
};
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Sat Jun 10 2017 19:27:27 GMT+1000 (AUS Eastern Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
